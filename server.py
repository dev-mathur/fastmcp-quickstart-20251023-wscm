import requests 
import logging 

logger = logging.getLogger(__name__) 
#Set up logging configuration
logging.basicConfig(level=logging.INFO)


#SANDBOX_TOKEN = 't7JyDA3GaxzQoDk7R5l4j07FDlaCFX'
TOKEN = 'eA8PiQoHxjXSKUNOYNRRy0qL8CDyeZ'

#SANDBOX_BASE_URL = "https://www.freelancer-sandbox.com/api" 

BASE_URL = "https://www.freelancer.com/api"

HEADERS = {"Authorization": f"Bearer {TOKEN}"}

# 3️⃣  Build query parameters
params = {
    "limit": 10,                    # how many projects to return
    "compact": "true",              # smaller payload
    "sort_field": "time_submitted", # order by newest first
    "sort_order": "desc",
    # Optional filters:
     "query": "acting",             # keyword search
    # "min_avg_price": 50,
    # "max_avg_price": 1000
}

res = requests.get(f"{BASE_URL}/projects/0.1/projects/active", headers=HEADERS, params=params, timeout=20)

#res = {'status': 'success', 'result': {'projects': [{'id': 16303350, 'owner_id': 25969112, 'title': 'TEST PROJECT -- 38758', 'status': 'active', 'seo_url': 'netttt/TEST-PROJECT-16303350', 'currency': {'id': 1, 'code': 'USD', 'sign': '$', 'name': 'US Dollar', 'exchange_rate': 1.0, 'country': 'US', 'is_external': False, 'is_escrowcom_supported': True}, 'submitdate': 1761119038, 'preview_description': 'This is a test project in sandbox environment2', 'deleted': False, 'nonpublic': False, 'hidebids': False, 'type': 'fixed', 'bidperiod': 7, 'budget': {'minimum': 50.0, 'maximum': 150.0}, 'featured': False, 'urgent': False, 'bid_stats': {'bid_count': 0}, 'time_submitted': 1761119038, 'time_updated': 1761162489, 'upgrades': {'featured': False, 'sealed': False, 'nonpublic': False, 'fulltime': False, 'urgent': False, 'qualified': False, 'NDA': False, 'ip_contract': False, 'non_compete': False, 'project_management': False, 'pf_only': False, 'premium': False, 'enterprise': False}, 'language': 'en', 'hireme': False, 'frontend_project_status': 'open', 'location': {'country': {}, 'timezone': {}}, 'true_location': {'country': {}, 'timezone': {}}, 'local': False, 'time_free_bids_expire': 1761125038, 'pool_ids': ['freelancer'], 'enterprise_ids': [], 'is_escrow_project': False, 'is_seller_kyc_required': False, 'is_buyer_kyc_required': False, 'enterprises': [], 'group_ids': []}, {'id': 16303349, 'owner_id': 25969112, 'title': 'TEST PROJECT -- 87467', 'status': 'active', 'seo_url': 'netttt/TEST-PROJECT-16303349', 'currency': {'id': 1, 'code': 'USD', 'sign': '$', 'name': 'US Dollar', 'exchange_rate': 1.0, 'country': 'US', 'is_external': False, 'is_escrowcom_supported': True}, 'submitdate': 1761119026, 'preview_description': 'This is a test project in sandbox environment1', 'deleted': False, 'nonpublic': False, 'hidebids': False, 'type': 'fixed', 'bidperiod': 7, 'budget': {'minimum': 50.0, 'maximum': 150.0}, 'featured': False, 'urgent': False, 'bid_stats': {'bid_count': 0}, 'time_submitted': 1761119026, 'time_updated': 1761162314, 'upgrades': {'featured': False, 'sealed': False, 'nonpublic': False, 'fulltime': False, 'urgent': False, 'qualified': False, 'NDA': False, 'ip_contract': False, 'non_compete': False, 'project_management': False, 'pf_only': False, 'premium': False, 'enterprise': False}, 'language': 'en', 'hireme': False, 'frontend_project_status': 'open', 'location': {'country': {}, 'timezone': {}}, 'true_location': {'country': {}, 'timezone': {}}, 'local': False, 'time_free_bids_expire': 1761125026, 'pool_ids': ['freelancer'], 'enterprise_ids': [], 'is_escrow_project': False, 'is_seller_kyc_required': False, 'is_buyer_kyc_required': False, 'enterprises': [], 'group_ids': []}, {'id': 16303347, 'owner_id': 25969112, 'title': 'TEST PROJECT -- 18890', 'status': 'active', 'seo_url': 'netttt/TEST-PROJECT-16303347', 'currency': {'id': 1, 'code': 'USD', 'sign': '$', 'name': 'US Dollar', 'exchange_rate': 1.0, 'country': 'US', 'is_external': False, 'is_escrowcom_supported': True}, 'submitdate': 1760600697, 'preview_description': 'This is a test project in sandbox environment7', 'deleted': False, 'nonpublic': False, 'hidebids': False, 'type': 'fixed', 'bidperiod': 7, 'budget': {'minimum': 50.0, 'maximum': 150.0}, 'featured': False, 'urgent': False, 'bid_stats': {'bid_count': 0}, 'time_submitted': 1760600697, 'time_updated': 1760644565, 'upgrades': {'featured': False, 'sealed': False, 'nonpublic': False, 'fulltime': False, 'urgent': False, 'qualified': False, 'NDA': False, 'ip_contract': False, 'non_compete': False, 'project_management': False, 'pf_only': False, 'premium': False, 'enterprise': False}, 'language': 'en', 'hireme': False, 'frontend_project_status': 'open', 'location': {'country': {}, 'timezone': {}}, 'true_location': {'country': {}, 'timezone': {}}, 'local': False, 'time_free_bids_expire': 1760606697, 'pool_ids': ['freelancer'], 'enterprise_ids': [], 'is_escrow_project': False, 'is_seller_kyc_required': False, 'is_buyer_kyc_required': False, 'enterprises': [], 'group_ids': []}, {'id': 16303348, 'owner_id': 25969112, 'title': 'TEST PROJECT -- 78276', 'status': 'active', 'seo_url': 'netttt/TEST-PROJECT-16303348', 'currency': {'id': 1, 'code': 'USD', 'sign': '$', 'name': 'US Dollar', 'exchange_rate': 1.0, 'country': 'US', 'is_external': False, 'is_escrowcom_supported': True}, 'submitdate': 1760600708, 'preview_description': 'This is a test project in sandbox environment8', 'deleted': False, 'nonpublic': False, 'hidebids': False, 'type': 'fixed', 'bidperiod': 7, 'budget': {'minimum': 50.0, 'maximum': 150.0}, 'featured': False, 'urgent': False, 'bid_stats': {'bid_count': 0}, 'time_submitted': 1760600708, 'time_updated': 1760644562, 'upgrades': {'featured': False, 'sealed': False, 'nonpublic': False, 'fulltime': False, 'urgent': False, 'qualified': False, 'NDA': False, 'ip_contract': False, 'non_compete': False, 'project_management': False, 'pf_only': False, 'premium': False, 'enterprise': False}, 'language': 'en', 'hireme': False, 'frontend_project_status': 'open', 'location': {'country': {}, 'timezone': {}}, 'true_location': {'country': {}, 'timezone': {}}, 'local': False, 'time_free_bids_expire': 1760606708, 'pool_ids': ['freelancer'], 'enterprise_ids': [], 'is_escrow_project': False, 'is_seller_kyc_required': False, 'is_buyer_kyc_required': False, 'enterprises': [], 'group_ids': []}, {'id': 16303346, 'owner_id': 25969112, 'title': 'TEST PROJECT -- 33488', 'status': 'active', 'seo_url': 'netttt/TEST-PROJECT-16303346', 'currency': {'id': 1, 'code': 'USD', 'sign': '$', 'name': 'US Dollar', 'exchange_rate': 1.0, 'country': 'US', 'is_external': False, 'is_escrowcom_supported': True}, 'submitdate': 1760600686, 'preview_description': 'This is a test project in sandbox environment4', 'deleted': False, 'nonpublic': False, 'hidebids': False, 'type': 'fixed', 'bidperiod': 7, 'budget': {'minimum': 50.0, 'maximum': 150.0}, 'featured': False, 'urgent': False, 'bid_stats': {'bid_count': 0}, 'time_submitted': 1760600686, 'time_updated': 1760644367, 'upgrades': {'featured': False, 'sealed': False, 'nonpublic': False, 'fulltime': False, 'urgent': False, 'qualified': False, 'NDA': False, 'ip_contract': False, 'non_compete': False, 'project_management': False, 'pf_only': False, 'premium': False, 'enterprise': False}, 'language': 'en', 'hireme': False, 'frontend_project_status': 'open', 'location': {'country': {}, 'timezone': {}}, 'true_location': {'country': {}, 'timezone': {}}, 'local': False, 'time_free_bids_expire': 1760606686, 'pool_ids': ['freelancer'], 'enterprise_ids': [], 'is_escrow_project': False, 'is_seller_kyc_required': False, 'is_buyer_kyc_required': False, 'enterprises': [], 'group_ids': []}, {'id': 16303344, 'owner_id': 25969112, 'title': 'TEST PROJECT -- 83660', 'status': 'active', 'seo_url': 'netttt/TEST-PROJECT-16303344', 'currency': {'id': 1, 'code': 'USD', 'sign': '$', 'name': 'US Dollar', 'exchange_rate': 1.0, 'country': 'US', 'is_external': False, 'is_escrowcom_supported': True}, 'submitdate': 1760600572, 'preview_description': 'This is a test project in sandbox environment6', 'deleted': False, 'nonpublic': False, 'hidebids': False, 'type': 'fixed', 'bidperiod': 7, 'budget': {'minimum': 50.0, 'maximum': 150.0}, 'featured': False, 'urgent': False, 'bid_stats': {'bid_count': 0}, 'time_submitted': 1760600572, 'time_updated': 1760644053, 'upgrades': {'featured': False, 'sealed': False, 'nonpublic': False, 'fulltime': False, 'urgent': False, 'qualified': False, 'NDA': False, 'ip_contract': False, 'non_compete': False, 'project_management': False, 'pf_only': False, 'premium': False, 'enterprise': False}, 'language': 'en', 'hireme': False, 'frontend_project_status': 'open', 'location': {'country': {}, 'timezone': {}}, 'true_location': {'country': {}, 'timezone': {}}, 'local': False, 'time_free_bids_expire': 1760606572, 'pool_ids': ['freelancer'], 'enterprise_ids': [], 'is_escrow_project': False, 'is_seller_kyc_required': False, 'is_buyer_kyc_required': False, 'enterprises': [], 'group_ids': []}, {'id': 16303340, 'owner_id': 25969112, 'title': 'TEST PROJECT -- 7', 'status': 'active', 'seo_url': 'netttt/TEST-PROJECT-16303340', 'currency': {'id': 1, 'code': 'USD', 'sign': '$', 'name': 'US Dollar', 'exchange_rate': 1.0, 'country': 'US', 'is_external': False, 'is_escrowcom_supported': True}, 'submitdate': 1760600292, 'preview_description': 'This is a test project in sandbox environment6', 'deleted': False, 'nonpublic': False, 'hidebids': False, 'type': 'fixed', 'bidperiod': 7, 'budget': {'minimum': 50.0, 'maximum': 150.0}, 'featured': False, 'urgent': False, 'bid_stats': {'bid_count': 0}, 'time_submitted': 1760600292, 'time_updated': 1760643859, 'upgrades': {'featured': False, 'sealed': False, 'nonpublic': False, 'fulltime': False, 'urgent': False, 'qualified': False, 'NDA': False, 'ip_contract': False, 'non_compete': False, 'project_management': False, 'pf_only': False, 'premium': False, 'enterprise': False}, 'language': 'en', 'hireme': False, 'frontend_project_status': 'open', 'location': {'country': {}, 'timezone': {}}, 'true_location': {'country': {}, 'timezone': {}}, 'local': False, 'time_free_bids_expire': 1760606292, 'pool_ids': ['freelancer'], 'enterprise_ids': [], 'is_escrow_project': False, 'is_seller_kyc_required': False, 'is_buyer_kyc_required': False, 'enterprises': [], 'group_ids': []}, {'id': 16303342, 'owner_id': 25969112, 'title': 'TEST PROJECT -- 9', 'status': 'active', 'seo_url': 'netttt/TEST-PROJECT-16303342', 'currency': {'id': 1, 'code': 'USD', 'sign': '$', 'name': 'US Dollar', 'exchange_rate': 1.0, 'country': 'US', 'is_external': False, 'is_escrowcom_supported': True}, 'submitdate': 1760600326, 'preview_description': 'This is a test project in sandbox environment8', 'deleted': False, 'nonpublic': False, 'hidebids': False, 'type': 'fixed', 'bidperiod': 7, 'budget': {'minimum': 50.0, 'maximum': 150.0}, 'featured': False, 'urgent': False, 'bid_stats': {'bid_count': 0}, 'time_submitted': 1760600326, 'time_updated': 1760643848, 'upgrades': {'featured': False, 'sealed': False, 'nonpublic': False, 'fulltime': False, 'urgent': False, 'qualified': False, 'NDA': False, 'ip_contract': False, 'non_compete': False, 'project_management': False, 'pf_only': False, 'premium': False, 'enterprise': False}, 'language': 'en', 'hireme': False, 'frontend_project_status': 'open', 'location': {'country': {}, 'timezone': {}}, 'true_location': {'country': {}, 'timezone': {}}, 'local': False, 'time_free_bids_expire': 1760606326, 'pool_ids': ['freelancer'], 'enterprise_ids': [], 'is_escrow_project': False, 'is_seller_kyc_required': False, 'is_buyer_kyc_required': False, 'enterprises': [], 'group_ids': []}, {'id': 16303343, 'owner_id': 25969112, 'title': 'TEST PROJECT -- 10', 'status': 'active', 'seo_url': 'netttt/TEST-PROJECT-16303343', 'currency': {'id': 1, 'code': 'USD', 'sign': '$', 'name': 'US Dollar', 'exchange_rate': 1.0, 'country': 'US', 'is_external': False, 'is_escrowcom_supported': True}, 'submitdate': 1760600367, 'preview_description': 'This is a test project in sandbox environment9', 'deleted': False, 'nonpublic': False, 'hidebids': False, 'type': 'fixed', 'bidperiod': 7, 'budget': {'minimum': 50.0, 'maximum': 150.0}, 'featured': False, 'urgent': False, 'bid_stats': {'bid_count': 0}, 'time_submitted': 1760600367, 'time_updated': 1760643843, 'upgrades': {'featured': False, 'sealed': False, 'nonpublic': False, 'fulltime': False, 'urgent': False, 'qualified': False, 'NDA': False, 'ip_contract': False, 'non_compete': False, 'project_management': False, 'pf_only': False, 'premium': False, 'enterprise': False}, 'language': 'en', 'hireme': False, 'frontend_project_status': 'open', 'location': {'country': {}, 'timezone': {}}, 'true_location': {'country': {}, 'timezone': {}}, 'local': False, 'time_free_bids_expire': 1760606367, 'pool_ids': ['freelancer'], 'enterprise_ids': [], 'is_escrow_project': False, 'is_seller_kyc_required': False, 'is_buyer_kyc_required': False, 'enterprises': [], 'group_ids': []}, {'id': 16303341, 'owner_id': 25969112, 'title': 'TEST PROJECT -- 8', 'status': 'active', 'seo_url': 'netttt/TEST-PROJECT-16303341', 'currency': {'id': 1, 'code': 'USD', 'sign': '$', 'name': 'US Dollar', 'exchange_rate': 1.0, 'country': 'US', 'is_external': False, 'is_escrowcom_supported': True}, 'submitdate': 1760600312, 'preview_description': 'This is a test project in sandbox environment7', 'deleted': False, 'nonpublic': False, 'hidebids': False, 'type': 'fixed', 'bidperiod': 7, 'budget': {'minimum': 50.0, 'maximum': 150.0}, 'featured': False, 'urgent': False, 'bid_stats': {'bid_count': 0}, 'time_submitted': 1760600312, 'time_updated': 1760643625, 'upgrades': {'featured': False, 'sealed': False, 'nonpublic': False, 'fulltime': False, 'urgent': False, 'qualified': False, 'NDA': False, 'ip_contract': False, 'non_compete': False, 'project_management': False, 'pf_only': False, 'premium': False, 'enterprise': False}, 'language': 'en', 'hireme': False, 'frontend_project_status': 'open', 'location': {'country': {}, 'timezone': {}}, 'true_location': {'country': {}, 'timezone': {}}, 'local': False, 'time_free_bids_expire': 1760606312, 'pool_ids': ['freelancer'], 'enterprise_ids': [], 'is_escrow_project': False, 'is_seller_kyc_required': False, 'is_buyer_kyc_required': False, 'enterprises': [], 'group_ids': []}], 'total_count': 11}, 'request_id': 'f8928cdac5ea74c412df61ff2d93950e'}

logger.info(res.json())
